(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{403:function(e,t,n){},421:function(e,t,n){"use strict";n.r(t);var r,a,s,c=n(51),i=n.n(c),o=n(186),u=n(516),l=n(493),d=n(104),j=n(32),b=n(12),f=n.n(b),h=n(18),p=n(25),x=n(26),O=function(){function e(){Object(p.a)(this,e)}return Object(x.a)(e,[{key:"get",value:function(e){try{var t=sessionStorage.getItem(e);if(!t)return;return JSON.parse(t)}catch(n){return}}},{key:"set",value:function(e,t){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(n){}}},{key:"clear",value:function(){try{sessionStorage.clear()}catch(e){}}},{key:"delete",value:function(e){try{sessionStorage.removeItem(e)}catch(t){}}}]),e}(),m=function(){return"https://learnasl-api.azurewebsites.net/api"},v=m(),g="".concat(v,"/auth"),w=function(){var e;return null===(e=(new O).get("user"))||void 0===e?void 0:e.token},y=function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(g,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(g,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e){return fetch("".concat(g,"/password-recovery/start?email=").concat(e),{method:"PUT"})},C=function(e){return fetch("".concat(g,"/email-confirmation/start?email=").concat(e),{method:"PUT"})},E=function(e){return fetch("".concat(g),{method:"PUT",headers:{Authorization:"Bearer ".concat(w()),"Content-Type":"application/json"},body:JSON.stringify({email:e})})},k=Object(j.b)("auth/login",function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t.email,t.password).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,!(t.status<200||t.status>=300)){e.next=5;break}return e.abrupt("return",n.rejectWithValue({errors:r.errors}));case 5:return(new O).set("user",r),e.abrupt("return",{data:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),A=Object(j.b)("auth/register",function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t.email,t.password).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,!(t.status<200||t.status>=300)){e.next=5;break}return e.abrupt("return",n.rejectWithValue({errors:r.errors}));case 5:return e.abrupt("return",{data:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),D=Object(j.b)("auth/resend-confirmation-email",function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,!(t.status<200||t.status>=300)){e.next=5;break}return e.abrupt("return",n.rejectWithValue({errors:r.errors}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(j.b)("auth/confirm-email",function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(r=t.email,a=t.token,fetch("".concat(g,"/email-confirmation?email=").concat(r,"&token=").concat(a),{method:"PUT"})).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,!(t.status<200||t.status>=300)){e.next=5;break}return e.abrupt("return",n.rejectWithValue({errors:r.errors}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}var r,a}),e)})));return function(t,n){return e.apply(this,arguments)}}()),W=Object(j.b)("auth/start-change-password",function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,!(t.status<200||t.status>=300)){e.next=5;break}return e.abrupt("return",n.rejectWithValue({errors:r.errors}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),M=Object(j.b)("auth/change-password",function(){var e=Object(h.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(a=t.token,s=t.email,c=null!==(r=t.password)&&void 0!==r?r:"",fetch("".concat(g,"/password-recovery?token=").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:c})})).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,!(t.status<200||t.status>=300)){e.next=5;break}return e.abrupt("return",n.rejectWithValue({errors:r.errors}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}var a,s,c}),e)})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(j.b)("auth/change-email",function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,!(t.status<200||t.status>=300)){e.next=5;break}return e.abrupt("return",n.rejectWithValue({errors:r.errors}));case 5:n.dispatch(G());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(j.b)("auth/delete-my-account",function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/delete"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(w())}}).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,!(t.status<200||t.status>=300)){e.next=5;break}return e.abrupt("return",n.rejectWithValue({errors:r.errors}));case 5:n.dispatch(G());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P=Object(j.c)({name:"dashboard",initialState:{errors:[],messages:{info:[],success:[]}},reducers:{setErrors:function(e,t){e.errors=t.payload},setInfoMessages:function(e,t){e.messages.info=t.payload},setSuccessMessages:function(e,t){e.messages.success=t.payload},clearMessages:function(e){e.messages={info:[],success:[]}},clearErrors:function(e){e.errors=[]},clearError:function(e,t){e.errors=e.errors.filter((function(e){return e!==t.payload}))},clearInfoMessage:function(e,t){e.messages.info=e.messages.info.filter((function(e){return e!==t.payload}))},clearSuccessMessage:function(e,t){e.messages.success=e.messages.success.filter((function(e){return e!==t.payload}))},clearAll:function(e){e.errors=[],e.messages.info=[],e.messages.success=[]}}}),I=P.actions,B=(I.clearAll,I.clearErrors,I.clearMessages,I.clearError),F=I.clearInfoMessage,U=I.clearSuccessMessage,N=I.setErrors,z=I.setInfoMessages,L=(I.setSuccessMessages,P.reducer),_={email:"",id:"",token:void 0},Y={user:null!==(r=(new O).get("user"))&&void 0!==r?r:_,status:"idle",errors:[],messages:{info:[],success:[]}},Q=Object(j.c)({name:"auth",initialState:Y,reducers:{logout:function(e){e.user=_,e.status="idle"},clearMessages:function(e){e.messages={info:[],success:[]},e.status="idle"},clearErrors:function(e){e.errors=[],e.status="idle"},clearError:function(e,t){e.errors=e.errors.filter((function(e){return e!==t.payload})),e.status="idle"},clearInfoMessage:function(e,t){e.messages.info=e.messages.info.filter((function(e){return e!==t.payload})),e.status="idle"},clearSuccessMessage:function(e,t){e.messages.success=e.messages.success.filter((function(e){return e!==t.payload})),e.status="idle"}},extraReducers:function(e){e.addCase(k.pending,(function(e){e.status="loading"})).addCase(k.fulfilled,(function(e,t){e.status="idle",e.user={email:t.payload.data.email,token:t.payload.data.token,id:t.payload.data.id},e.errors=[]})).addCase(k.rejected,(function(e,t){e.status="failed",e.user=_,e.errors=t.payload?t.payload.errors:["Something went wrong"]})).addCase(A.pending,(function(e){e.status="loading"})).addCase(A.fulfilled,(function(e){e.status="idle",e.messages.info=["Review your mail box to confirm your registration"]})).addCase(A.rejected,(function(e,t){e.status="failed",e.user=_,e.errors=t.payload?t.payload.errors:["Something went wrong"]})).addCase(D.pending,(function(e){e.status="loading"})).addCase(D.fulfilled,(function(e){e.status="idle",e.messages.info=["Review your mail box to confirm your registration"]})).addCase(D.rejected,(function(e,t){e.status="failed",e.errors=t.payload?t.payload.errors:["Something went wrong"]})).addCase(R.pending,(function(e){e.status="loading"})).addCase(R.fulfilled,(function(e){e.status="idle",e.messages.success=["Email confirmed. You can now sign in the application"]})).addCase(R.rejected,(function(e,t){e.status="failed",e.errors=t.payload?t.payload.errors:["Something went wrong"]})).addCase(W.pending,(function(e){e.status="loading"})).addCase(W.fulfilled,(function(e){e.status="idle",e.messages.info=["Review your mail box to recover your password"]})).addCase(W.rejected,(function(e,t){e.status="failed",e.errors=t.payload?t.payload.errors:["Something went wrong"]})).addCase(M.pending,(function(e){e.status="loading"})).addCase(M.fulfilled,(function(e){e.status="idle",e.messages.success=["Password was changed successfully"]})).addCase(M.rejected,(function(e,t){e.status="failed",e.errors=t.payload?t.payload.errors:["Something went wrong"]})).addCase(q.pending,(function(e){e.status="loading"})).addCase(q.fulfilled,(function(e){e.status="idle",e.messages.success=["Email was changed successfully, check your inbox"]})).addCase(q.rejected,(function(e,t){e.status="failed",e.errors=t.payload?t.payload.errors:["Something went wrong"]})).addCase(V.pending,(function(e){e.status="loading"})).addCase(V.fulfilled,(function(e){e.status="idle",e.messages.success=["We hope to see you again"]})).addCase(V.rejected,(function(e,t){e.status="failed",e.errors=t.payload?t.payload.errors:["Something went wrong"]}))}}),G=function(){return function(e){(new O).clear(),e(Q.actions.logout()),e(P.actions.clearAll())}},H=Q.actions,J=(H.clearErrors,H.clearMessages,H.clearError),Z=H.clearInfoMessage,$=H.clearSuccessMessage,X=Q.reducer,K=n(17),ee=m(),te=function(){var e;return null===(e=(new O).get("user"))||void 0===e?void 0:e.token},ne="".concat(ee,"/test"),re="".concat(ee,"/question"),ae=function(e,t,n){void 0!==n&&e.set(t,n)},se=function(e,t){var n=function(e){var t,n,r,a,s=new URLSearchParams;return ae(s,"PageNumber",e.pageNumber.toString()),ae(s,"PageSize",e.pageSize.toString()),ae(s,"TestType",null===(t=e.testType)||void 0===t?void 0:t.toString()),ae(s,"Difficulty",null===(n=e.difficulty)||void 0===n?void 0:n.toString()),ae(s,"ToDate",null===(r=e.toDate)||void 0===r?void 0:r.toString()),ae(s,"FromDate",null===(a=e.fromDate)||void 0===a?void 0:a.toString()),s}(e);return fetch("".concat(ne,"?").concat(n.toString()),{signal:t.signal,method:"GET",headers:{Authorization:"Bearer ".concat(te())}})},ce=function(e){var t=e.id,n=e.populated;return fetch("".concat(ne,"/").concat(t,"?populated=").concat(n),{method:"GET",headers:{Authorization:"Bearer ".concat(te())}})},ie=function(e){var t=e.id,n=e.testType,r=e.userAnswer,a=e.videoUser,s=new FormData;a&&s.append("VideoUser",a),r&&s.append("UserAnswer",r),s.append("TestType",n);var c={method:"PUT",headers:{Authorization:"Bearer ".concat(te())},body:s};return fetch("".concat(re,"/").concat(t),c)},oe=function(e){return fetch("".concat(ne),{signal:e.signal,method:"DELETE",headers:{Authorization:"Bearer ".concat(te())}})},ue=Object(j.b)("test/getTest",function(){var e=Object(h.a)(f.a.mark((function e(t,n){var r,a,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new O).delete("currentTest"),e.next=4,ce(t);case 4:if((a=e.sent).ok){e.next=9;break}return s=[],s=401===a.status?["Your session has expired. Please login again"]:["Something went wrong"],e.abrupt("return",n.rejectWithValue({errors:s}));case 9:return e.next=11,a.json();case 11:return c=e.sent,r.set("currentTest",{test:c,page:1,state:"success"}),e.abrupt("return",{data:c});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),le={totalTests:10,filters:{recent:{pageSize:10,pageNumber:0}},currentTest:null!==(a=Object(K.a)(Object(K.a)({},(new O).get("currentTest")),{},{errors:[]}))&&void 0!==a?a:{state:"idle",errors:[],page:1}},de=Object(j.c)({name:"test",initialState:le,reducers:{setRecentPageSize:function(e,t){e.filters.recent.pageSize=t.payload},setRecentPageNumber:function(e,t){e.filters.recent.pageNumber=t.payload},setRecentFilter:function(e,t){e.filters.recent=t.payload},setTotalTests:function(e,t){e.totalTests=t.payload},deleteCurrentTest:function(e){e.currentTest.state="idle",e.currentTest.test=void 0,e.currentTest.errors=[],e.currentTest.page=1},setPage:function(e,t){e.currentTest.page=t.payload},setCurrentTest:function(e,t){e.currentTest.test=t.payload}},extraReducers:function(e){e.addCase(ue.pending,(function(e){e.currentTest.state="loading",e.currentTest.errors=[],e.currentTest.test=void 0})).addCase(ue.fulfilled,(function(e,t){e.currentTest.state="success",e.currentTest.test=t.payload.data,e.currentTest.errors=[]})).addCase(ue.rejected,(function(e,t){e.currentTest.state="error",e.currentTest.errors=t.payload?t.payload.errors:["Something went wrong"],e.currentTest.test=void 0}))}}),je=function(){return function(e){(new O).delete("currentTest"),e(de.actions.deleteCurrentTest())}},be=function(e){return function(t){var n=new O,r=n.get("currentTest");n.set("currentTest",{state:r.state,page:r.page,test:e}),t(de.actions.setCurrentTest(e))}},fe=de.actions,he=(fe.setRecentPageSize,fe.setRecentPageNumber),pe=fe.setRecentFilter,xe=fe.setTotalTests,Oe=(fe.setPage,de.reducer),me=Object(j.a)({reducer:{auth:X,test:Oe,dashboard:L}}),ve=n(30),ge=n(21),we=function(){return Object(d.b)()},ye=d.c,Te=n(0),Se=function(e){var t=e.children;return ye((function(e){return e.auth.user})).token?t:Object(Te.jsx)(ge.a,{to:"/auth"})},Ce=function(e){var t=e.children;return ye((function(e){return e.auth.user})).token?Object(Te.jsx)(ge.a,{to:"/"}):t},Ee=n(1),ke=n(497),Ae=n(501),De=Object(Ee.forwardRef)((function(e,t){return Object(Te.jsx)(ke.a,Object(K.a)({elevation:6,ref:t,variant:"filled"},e))})),Re=function(e){var t=e.type,n=e.message,r=e.position,a=e.onClose,s=we(),c=function(e,r){if("clickaway"!==r){a();var c=function(){};"error"===t?c=J:"info"===t?c=Z:"success"===t&&(c=$),s(c(n))}};return Object(Te.jsx)(Ae.a,{open:!0,autoHideDuration:6e3,onClose:c,anchorOrigin:r,children:Object(Te.jsx)(De,{onClose:c,severity:t,sx:{width:"100%"},children:n})})},We=function(e){var t=e.type,n=e.message,r=e.position,a=we();return Object(Te.jsx)(Re,{message:n,type:t,position:r,onClose:function(){var e=function(){};"error"===t?e=J:"info"===t?e=Z:"success"===t&&(e=$),a(e(n))}})},Me=function(e){var t=e.type,n=e.message,r=e.position,a=we();return Object(Te.jsx)(Re,{message:n,type:t,position:r,onClose:function(){var e=function(){};"error"===t?e=B:"info"===t?e=F:"success"===t&&(e=U),a(e(n))}})},qe=n(29),Ve=n(530),Pe=n(488),Ie=n(509),Be=n(109),Fe=n(510),Ue=n(500),Ne=n(86),ze=n.n(Ne),Le=n(11),_e=n(150),Ye=n(519),Qe=n(525),Ge=n(518),He=n(233),Je=n.n(He),Ze=n(232),$e=n.n(Ze),Xe=["name","label","variant","required","touched","errorText","type"],Ke=function(e){var t=e.name,n=e.label,r=e.variant,a=e.required,s=e.touched,c=e.errorText,i=e.type,o=Object(_e.a)(e,Xe),u=Object(Ee.useState)(!1),l=Object(Le.a)(u,2),d=l[0],j=l[1];return Object(Te.jsx)("div",{children:Object(Te.jsx)(qe.a,Object(K.a)(Object(K.a)({},o),{},{as:Ye.a,required:a,autoComplete:"off",name:t,label:n,variant:r,error:void 0!==c&&s,helperText:s&&c,type:"password"===i?d?"text":"password":i,InputProps:Object(K.a)(Object(K.a)({},o.InputProps),{},{startAdornment:"password"===i&&Object(Te.jsx)(Qe.a,{position:"start",children:Object(Te.jsx)(Ge.a,{"aria-label":"toggle password visibility",onClick:function(){j(!d)},onMouseDown:function(e){e.preventDefault()},edge:"start",children:d?Object(Te.jsx)($e.a,{}):Object(Te.jsx)(Je.a,{})})})})}))})},et=n(508),tt=n(526),nt=n(527),rt=n(528),at=n(487),st=function(e){var t=e.color,n=e.messageButton,r=e.title,a=e.content,s=e.component,c=Object(Ee.useState)(!1),i=Object(Le.a)(c,2),o=i[0],u=i[1];return Object(Te.jsxs)("div",{children:[Object(Te.jsx)(et.a,{variant:"outlined",onClick:function(){u(!0)},color:t,children:n}),Object(Te.jsxs)(tt.a,{open:o,onClose:function(){u(!1)},children:[Object(Te.jsx)(at.a,{children:r}),Object(Te.jsxs)(nt.a,{children:[Object(Te.jsx)(rt.a,{sx:{marginBottom:1},children:a}),s]})]})]})},ct={email:"",password:""},it=n(27),ot=it.d().email().required(),ut=it.d().max(15).min(6).matches(/^[0-9A-Za-z]*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?][0-9a-zA-Z]*$/,"Should contain one special character").matches(/\d/,"Should contain a number").matches(/(.*[A-Z].*)/,"Should contain an uppercase letter").required(),lt=it.b().shape({email:ot,password:ut}),dt=n(529),jt={email:""},bt=it.b().shape({email:ot}),ft=function(){var e=we();return Object(Te.jsx)(qe.c,{initialValues:jt,onSubmit:function(t){e(W(t.email))},validationSchema:bt,validateOnChange:!0,children:function(e){var t=e.errors,n=e.touched,r=e.isValid,a=e.dirty;e.values;return Object(Te.jsxs)(qe.b,{children:[Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"email",type:"input",label:"Email",variant:"standard",errorText:t.email,touched:n.email,required:!0})}),Object(Te.jsx)(dt.a,{children:Object(Te.jsx)(et.a,{type:"submit",disabled:!a||!r,children:"Reset password"})})]})}})},ht=function(){var e=we(),t=ye((function(e){return e.auth})).status;return Object(Te.jsx)(Ve.a,{component:"main",children:Object(Te.jsxs)(Pe.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Te.jsx)(Ie.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(Te.jsx)(ze.a,{})}),Object(Te.jsx)(Be.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(Te.jsxs)(Pe.a,{sx:{mt:1,maxWidth:.7,width:400},children:[Object(Te.jsx)(qe.c,{initialValues:ct,onSubmit:function(t){e(k(t))},validationSchema:lt,children:function(e){var n=e.isValid,r=e.dirty,a=e.errors,s=e.touched;return Object(Te.jsxs)(qe.b,{children:[Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"email",type:"input",label:"Email",errorText:a.email,touched:s.email,margin:"normal",fullWidth:!0,required:!0})}),Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"password",type:"password",label:"Password",errorText:a.password,touched:s.password,margin:"normal",fullWidth:!0,required:!0})}),Object(Te.jsx)(Ue.a,{disabled:!r||!n,type:"submit",fullWidth:!0,variant:"contained",loading:"loading"===t,sx:{mt:3,mb:2},children:"Login"})]})}}),Object(Te.jsxs)(Fe.a,{container:!0,children:[Object(Te.jsx)(Fe.a,{item:!0,xs:!0,children:Object(Te.jsx)(ve.b,{to:"/auth/register",children:"Sign up"})}),Object(Te.jsx)(Fe.a,{item:!0,children:Object(Te.jsx)(st,{messageButton:"Reset password",title:"Reset password",content:"Enter your email to remember the password",component:Object(Te.jsx)(ft,{})})})]})]})]})})},pt={email:"",password:"",repeatPassword:""},xt=it.b().shape({email:ot,password:ut,repeatPassword:it.d().oneOf([it.c("password"),""],"Passwords should match").required("Repeat password is required")}),Ot={email:""},mt=it.b().shape({email:ot}),vt=function(){var e=we();return Object(Te.jsx)(qe.c,{initialValues:Ot,onSubmit:function(t){e(D(t.email))},validationSchema:mt,validateOnChange:!0,children:function(e){var t=e.errors,n=e.touched,r=e.isValid,a=e.dirty;return Object(Te.jsxs)(qe.b,{children:[Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"email",type:"input",label:"Email",variant:"standard",errorText:t.email,touched:n.email,required:!0})}),Object(Te.jsx)(dt.a,{children:Object(Te.jsx)(et.a,{type:"submit",disabled:!a||!r,children:"Resend confirmation"})})]})}})},gt=function(){var e=we(),t=ye((function(e){return e.auth})).status;return Object(Te.jsx)(Ve.a,{component:"main",children:Object(Te.jsxs)(Pe.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Te.jsx)(Ie.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(Te.jsx)(ze.a,{})}),Object(Te.jsx)(Be.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Te.jsxs)(Pe.a,{sx:{mt:1,maxWidth:.7,width:400},children:[Object(Te.jsx)(qe.c,{initialValues:pt,onSubmit:function(t){e(A(t))},validationSchema:xt,validateOnMount:!0,children:function(e){var n=e.isValid,r=e.dirty,a=e.errors,s=e.touched;return Object(Te.jsxs)(qe.b,{children:[Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"email",type:"input",label:"Email",errorText:a.email,touched:s.email,margin:"normal",fullWidth:!0,required:!0})}),Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"password",type:"password",label:"Password",errorText:a.password,touched:s.password,margin:"normal",fullWidth:!0,required:!0})}),Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"repeatPassword",type:"password",label:"Repeat the password",errorText:a.repeatPassword,touched:s.repeatPassword,margin:"normal",fullWidth:!0,required:!0})}),Object(Te.jsx)(Ue.a,{disabled:!r||!n,type:"submit",fullWidth:!0,variant:"contained",loading:"loading"===t,sx:{mt:3,mb:2},children:"Sign up"})]})}}),Object(Te.jsxs)(Fe.a,{container:!0,children:[Object(Te.jsx)(Fe.a,{item:!0,xs:!0,children:Object(Te.jsx)(ve.b,{to:"/auth/login",children:"Sign in"})}),Object(Te.jsx)(Fe.a,{item:!0,children:Object(Te.jsx)(st,{messageButton:"Resend confirmation email",title:"Resend confirmation email",content:"Enter the email to resend the confirmation email",component:Object(Te.jsx)(vt,{})})})]})]})]})})},wt=n(531),yt=function(){var e=we(),t=Object(ge.h)(),n=ye((function(e){return e.auth})).status;return Object(Ee.useEffect)((function(){var n,r;e(R({email:null!==(n=t.email)&&void 0!==n?n:"",token:null!==(r=t.token)&&void 0!==r?r:""}))}),[e,t]),"loading"===n?Object(Te.jsx)(Fe.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh"},children:Object(Te.jsx)(wt.a,{})}):Object(Te.jsx)(ge.a,{to:"/auth/login",replace:!0})},Tt=it.b().shape({email:ot,password:ut,repeatPassword:it.d().oneOf([it.c("password"),null],"Passwords should match").required("Repeat password is required")}),St={email:"",password:"",repeatPassword:""},Ct=function(){var e=we(),t=Object(ge.h)(),n=t.email,r=t.token;St.email=null!==n&&void 0!==n?n:"";return Object(Te.jsx)(Ve.a,{component:"main",children:Object(Te.jsxs)(Pe.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Te.jsx)(Ie.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(Te.jsx)(ze.a,{})}),Object(Te.jsx)(Be.a,{component:"h1",variant:"h5",children:"Change password"}),Object(Te.jsxs)(Pe.a,{sx:{mt:1,maxWidth:.7,width:400},children:[Object(Te.jsx)(qe.c,{initialValues:St,onSubmit:function(t){e(M({email:t.email,password:t.password,token:r}))},validationSchema:Tt,validateOnMount:!0,children:function(e){var t=e.isValid,n=e.dirty,r=e.errors,a=e.touched;return Object(Te.jsxs)(qe.b,{children:[Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"email",type:"input",label:"Email",errorText:r.email,touched:a.email,margin:"normal",fullWidth:!0,required:!0})}),Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"password",type:"password",label:"Password",errorText:r.password,touched:a.password,margin:"normal",fullWidth:!0,required:!0})}),Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"repeatPassword",type:"password",label:"Repeat the password",errorText:r.repeatPassword,touched:a.repeatPassword,margin:"normal",fullWidth:!0,required:!0})}),Object(Te.jsx)(et.a,{disabled:!n||!t,type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Change password"})]})}}),Object(Te.jsx)("div",{children:Object(Te.jsx)(ve.b,{to:"/auth/login",children:"Sign in"})})]})]})})},Et=n(495),kt=n(532),At=n(534),Dt=n(512),Rt=n(533),Wt=n(511);!function(e){e.NOTDEFINED="NOT_DEFINED",e.EASY="EASY",e.MEDIUM="MEDIUM",e.HARD="HARD"}(s||(s={}));var Mt,qt=function(e){switch(e){case s.EASY:return"success";case s.MEDIUM:return"warning";case s.HARD:return"error";default:return}};!function(e){e.OptionWordToVideo_Error="OptionWordToVideo_Error",e.OptionWordToVideo="OptionWordToVideo",e.OptionVideoToWord_Error="OptionVideoToWord_Error",e.OptionVideoToWord="OptionVideoToWord",e.Mimic_Error="Mimic_Error",e.Mimic="Mimic",e.QA_Error="QA_Error",e.QA="QA"}(Mt||(Mt={}));var Vt,Pt=function(e){switch(e){case Mt.Mimic:return"Mimic";case Mt.Mimic_Error:return"Mimic - Error Test";case Mt.QA:return"QA";case Mt.QA_Error:return"QA - Error Test";case Mt.OptionVideoToWord:return"Video to word";case Mt.OptionVideoToWord_Error:return"Video to word - Error Test";case Mt.OptionWordToVideo:return"Word to video";case Mt.OptionWordToVideo_Error:return"Word to video - Error Test";default:return"Not found"}},It=function(e){var t=e.test,n=Object(ge.g)();return Object(Te.jsx)(kt.a,{sx:{minWidth:340,maxWidth:360,marginBottom:"10px"},onClick:function(){n("/test/review/".concat(t.id))},children:Object(Te.jsx)(Rt.a,{children:Object(Te.jsxs)(At.a,{children:[Object(Te.jsxs)(Pe.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(Te.jsx)(Be.a,{gutterBottom:!0,variant:"h6",component:"div",children:Pt(t.testType)}),Object(Te.jsx)(Wt.a,{label:t.difficulty,color:qt(t.difficulty)})]}),Object(Te.jsxs)(Pe.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(Te.jsxs)(Be.a,{variant:"body1",color:"text.secondary",children:["Questions: ",t.questions.length]}),Object(Te.jsxs)(Be.a,{variant:"body1",color:"text.secondary",children:[new Date(t.createdOn).toLocaleDateString()," ",new Date(t.createdOn).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})]})]})]})})})},Bt=n(503),Ft=n(535),Ut=n(536),Nt=n(522),zt=n(523),Lt=n(498),_t=n(537),Yt=n(538),Qt=n(504),Gt=n(239),Ht=n.n(Gt),Jt=n(238),Zt=n.n(Jt),$t=n(237),Xt=(n(400),n(401),function(e){var t,n,r,a,c=e.onChange,i=e.value,o=Object(Ee.useState)(!1),u=Object(Le.a)(o,2),l=u[0],d=u[1],j=Object(Ee.useState)(!1),b=Object(Le.a)(j,2),f=b[0],h=b[1],p=Object(Ee.useState)({startDate:null!==(t=i.fromDate)&&void 0!==t?t:new Date,endDate:null!==(n=i.toDate)&&void 0!==n?n:new Date,key:"selection"}),x=Object(Le.a)(p,2),O=x[0],m=x[1];Object(Ee.useEffect)((function(){var e=document.getElementsByClassName("rdrDefinedRangesWrapper")[0];e&&(e.style.display="none")}),[]);return Object(Ee.useEffect)((function(){var e,t;c({fromDate:null===(e=O.startDate)||void 0===e?void 0:e.toUTCString(),toDate:null===(t=O.endDate)||void 0===t?void 0:t.toUTCString(),useDateFiltering:f})}),[O,c,f]),Object(Te.jsxs)(Bt.a,{sx:{marginBottom:3},expanded:l,onChange:function(e,t){d(t)},children:[Object(Te.jsxs)(Ft.a,{expandIcon:Object(Te.jsx)(Zt.a,{}),children:[Object(Te.jsx)(Ht.a,{}),Object(Te.jsx)(Be.a,{children:"Filters"})]}),Object(Te.jsxs)(Ut.a,{children:[Object(Te.jsxs)(Pe.a,{sx:{marginBottom:3,marginTop:3,display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(Te.jsxs)(Nt.a,{sx:{width:"45%"},children:[Object(Te.jsx)(zt.a,{children:"Difficulty"}),Object(Te.jsxs)(Lt.a,{value:null!==(r=i.difficulty)&&void 0!==r?r:"",label:"Difficulty",onChange:function(e,t){var n=e.target.value;c({difficulty:n})},children:[Object(Te.jsx)(_t.a,{value:"",children:"All difficulties"}),Object(Te.jsx)(_t.a,{value:s.EASY,children:"Easy"}),Object(Te.jsx)(_t.a,{value:s.MEDIUM,children:"Medium"}),Object(Te.jsx)(_t.a,{value:s.HARD,children:"Hard"})]})]}),Object(Te.jsxs)(Nt.a,{sx:{width:"45%"},children:[Object(Te.jsx)(zt.a,{children:"Type of test"}),Object(Te.jsxs)(Lt.a,{value:null!==(a=i.type)&&void 0!==a?a:"",label:"Type of test",onChange:function(e,t){var n=e.target.value;c({type:n})},children:[Object(Te.jsx)(_t.a,{value:"",children:"All tests"}),Object(Te.jsx)(_t.a,{value:Mt.Mimic,children:"Mimic"}),Object(Te.jsx)(_t.a,{value:Mt.Mimic_Error,children:"Mimic - Error test"}),Object(Te.jsx)(_t.a,{value:Mt.QA,children:"QA"}),Object(Te.jsx)(_t.a,{value:Mt.QA_Error,children:"QA - Error test"}),Object(Te.jsx)(_t.a,{value:Mt.OptionVideoToWord,children:"Video to word"}),Object(Te.jsx)(_t.a,{value:Mt.OptionVideoToWord_Error,children:"Video to word - Error test"}),Object(Te.jsx)(_t.a,{value:Mt.OptionWordToVideo,children:"Word to video"}),Object(Te.jsx)(_t.a,{value:Mt.OptionWordToVideo_Error,children:"Word to video - Error test"})]})]})]}),Object(Te.jsx)(Yt.a,{control:Object(Te.jsx)(Qt.a,{checked:f,onChange:function(){h(!f)},inputProps:{"aria-label":"controlled"}}),label:"Filter by date"}),Object(Te.jsx)(Pe.a,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Te.jsx)($t.DateRangePicker,{maxDate:new Date,ranges:[O],onChange:function(e){m(e.selection)}})})]})]})}),Kt=function(){var e=ye((function(e){return e.test})),t=e.filters,n=e.totalTests,r=ye((function(e){return e.auth.user})).id,a=we(),s=Object(Ee.useState)([]),c=Object(Le.a)(s,2),i=c[0],o=c[1],u=Object(Ee.useState)(!1),l=Object(Le.a)(u,2),d=l[0],j=l[1],b=Object(Ee.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se({pageSize:t.recent.pageSize,pageNumber:t.recent.pageNumber+1,difficulty:t.recent.difficulty,testType:t.recent.type,fromDate:t.recent.fromDate,toDate:t.recent.toDate,userId:null!==r&&void 0!==r?r:""},n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,t.recent]),p=Object(Ee.useCallback)((function(e){var n=Object(K.a)(Object(K.a)({},t.recent),e);n.useDateFiltering||(delete n.fromDate,delete n.toDate),delete n.useDateFiltering,JSON.stringify(t.recent)!==JSON.stringify(n)&&a(pe(n))}),[a,t.recent]);return Object(Ee.useEffect)((function(){var e=new AbortController,t=function(){var t=Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j(!1),b(e).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=4;break}return r=401===t.status?"Your session has expired. Login again.":"Something went wrong",a(N([r])),e.abrupt("return");case 4:return e.next=6,t.json();case 6:s=e.sent,c=JSON.parse(null!==(n=t.headers.get("X-Pagination"))&&void 0!==n?n:""),a(xe(c.TotalCount)),o(s),j(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){e.signal.aborted||a(N(["Something went wrong"]))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e.abort()}}),[a,b]),Object(Te.jsxs)(Fe.a,{container:!0,spacing:0,direction:"column",alignItems:"center",width:"100vw",children:[Object(Te.jsx)(Be.a,{variant:"h3",component:"h1",children:"Recent quizs"}),Object(Te.jsx)(Et.a,{component:"div",count:n,page:t.recent.pageNumber,onPageChange:function(e,t){a(he(t))},rowsPerPage:t.recent.pageSize,onRowsPerPageChange:function(e){a(pe(Object(K.a)(Object(K.a)({},t.recent),{},{pageSize:parseInt(e.target.value,10),pageNumber:0})))},rowsPerPageOptions:[5,10]}),Object(Te.jsx)(Pe.a,{sx:{minWidth:340,maxWidth:360,marginBottom:3},children:Object(Te.jsx)(Xt,{onChange:p,value:t.recent})}),Object(Te.jsx)(Pe.a,{sx:{marginBottom:3},children:d?i.map((function(e){return Object(Te.jsx)(It,{test:e},e.id)})):Array.from({length:t.recent.pageSize}).map((function(e,t){return Object(Te.jsx)(kt.a,{sx:{minWidth:340,maxWidth:360,marginBottom:"10px"},children:Object(Te.jsx)(At.a,{children:Object(Te.jsxs)(Pe.a,{children:[Object(Te.jsxs)(Pe.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[Object(Te.jsx)(Dt.a,{animation:"wave",variant:"rectangular",width:"30%"}),Object(Te.jsx)(Dt.a,{animation:"wave",variant:"circular",width:40,height:40})]}),Object(Te.jsxs)(Pe.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(Te.jsx)(Dt.a,{animation:"wave",variant:"rectangular",width:"30%"}),Object(Te.jsx)(Dt.a,{animation:"wave",variant:"rectangular",width:"30%"})]})]})})},t)}))})]})},en=n(489),tn=n(144),nn=n.n(tn),rn=n(242),an=n.n(rn),sn={email:"",repeatedEmail:""},cn=it.b().shape({email:ot,repeatedEmail:it.d().oneOf([it.c("email"),""],"Emails should match").required("Repeated email is required")}),on=function(){var e=we();return Object(Te.jsx)(qe.c,{initialValues:sn,onSubmit:function(t){var n;e((n=t.email,function(e,t){e(q(n)).finally((function(){var n,r=t();e(P.actions.setErrors(null===(n=r.auth)||void 0===n?void 0:n.errors))}))}))},validationSchema:cn,validateOnChange:!0,children:function(e){var t=e.errors,n=e.touched,r=e.isValid,a=e.dirty;e.values;return Object(Te.jsxs)(qe.b,{children:[Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{name:"email",type:"input",label:"Email",variant:"standard",errorText:t.email,touched:n.email,required:!0})}),Object(Te.jsx)(Pe.a,{sx:{marginTop:1},children:Object(Te.jsx)(Ke,{name:"repeatedEmail",type:"input",label:"Repeat the email",variant:"standard",errorText:t.repeatedEmail,touched:n.repeatedEmail,required:!0})}),Object(Te.jsx)(dt.a,{children:Object(Te.jsx)(et.a,{startIcon:Object(Te.jsx)(an.a,{}),type:"submit",disabled:!a||!r,children:"Change email"})})]})}})},un=function(){var e=we();return Object(Te.jsx)(dt.a,{children:Object(Te.jsx)(et.a,{onClick:function(){e((function(e,t){e(V()).finally((function(){var n,r=t();e(P.actions.setErrors(null===(n=r.auth)||void 0===n?void 0:n.errors))}))}))},startIcon:Object(Te.jsx)(nn.a,{}),color:"error",children:"Delete my account"})})},ln=function(){var e=ye((function(e){return e.auth})).user,t=we(),n=Object(Ee.useState)(!1),r=Object(Le.a)(n,2),a=r[0],s=r[1],c=Object(Ee.useState)(new AbortController),i=Object(Le.a)(c,1)[0];Object(Ee.useEffect)((function(){return function(){i.abort()}}),[i]);var o=Object(Ee.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(Te.jsx)(Ve.a,{component:"main",sx:{marginBottom:3},children:Object(Te.jsxs)(Pe.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Te.jsx)(Be.a,{variant:"h3",component:"h1",sx:{marginBottom:3},children:"My profile"}),Object(Te.jsx)(en.a,{sx:{width:"80%",marginBottom:3}}),Object(Te.jsxs)(Be.a,{children:["Email: ",e.email]}),Object(Te.jsx)(Pe.a,{sx:{minWidth:340,maxWidth:400,marginTop:3},children:Object(Te.jsxs)(Pe.a,{sx:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(Te.jsx)(Ue.a,{onClick:function(){var e=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!0),o(i).then(function(){var e=Object(h.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ok){e.next=3;break}throw r=401===n.status?"Your session has expired. Login again.":"Something went wrong",Error(r);case 3:t(z(["The tests have been deleted"]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){i.signal.aborted||t(N([e]))})).finally((function(){s(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()},loading:a,size:"small",sx:{maxWidth:"45%"},variant:"outlined",startIcon:Object(Te.jsx)(nn.a,{}),color:"error",children:"Delete all my tests"}),Object(Te.jsx)(st,{messageButton:"Change email",title:"Change email",content:"Enter a new email. Take into account that you will have to confirm your email again and login. If the email introduced is incorrect, you should call support.",component:Object(Te.jsx)(on,{})})]})}),Object(Te.jsx)(Pe.a,{sx:{marginTop:3},children:Object(Te.jsx)(st,{color:"error",messageButton:"Delete my account",title:"Delete my account",content:"Are you sure? You will not be able to recover your data again",component:Object(Te.jsx)(un,{})})})]})})},dn=n(517),jn=m(),bn=function(){var e;return null===(e=(new O).get("user"))||void 0===e?void 0:e.token},fn="".concat(jn,"/stats"),hn=function(e,t){return fetch("".concat(fn,"/use-of-the-app?Year=").concat(e.year,"&Month=").concat(e.month),{signal:t.signal,method:"GET",headers:{Authorization:"Bearer ".concat(bn())}})},pn=function(e){return fetch("".concat(fn,"/best-streak"),{signal:e.signal,method:"GET",headers:{Authorization:"Bearer ".concat(bn())}})},xn=function(e){return fetch("".concat(fn,"/current-streak"),{signal:e.signal,method:"GET",headers:{Authorization:"Bearer ".concat(bn())}})},On=function(e,t){return fetch("".concat(fn,"/number-of-learnt-words?Year=").concat(e.year).concat(void 0!==e.month?"&Month=".concat(e.month):"").concat(void 0!==e.day?"&Day=".concat(e.day):""),{signal:t.signal,method:"GET",headers:{Authorization:"Bearer ".concat(bn())}})},mn=function(e){return fetch("".concat(fn,"/percent-learnt"),{signal:e.signal,method:"GET",headers:{Authorization:"Bearer ".concat(bn())}})},vn=function(e,t){var n="?Year=".concat(e.year)+"".concat(void 0!==e.month?"&Month=".concat(e.month):"")+"".concat(void 0!==e.day?"&Day=".concat(e.day):"")+"".concat(e.difficulty!==s.NOTDEFINED?"&Difficulty=".concat(e.difficulty):"");return fetch("".concat(fn,"/success-rate").concat(n),{signal:t.signal,method:"GET",headers:{Authorization:"Bearer ".concat(bn())}})},gn=function(){var e=we(),t=Object(Ee.useState)(0),n=Object(Le.a)(t,2),r=n[0],a=n[1],s=Object(Ee.useState)(!0),c=Object(Le.a)(s,2),i=c[0],o=c[1],u=Object(Ee.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(Ee.useEffect)((function(){var t=new AbortController;o(!0);var n=function(){var n=Object(h.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u(t).then(function(){var t=Object(h.a)(f.a.mark((function t(n){var r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ok){t.next=4;break}return r=401===n.status?"Your session has expired. Login again.":"Something went wrong",e(N([r])),t.abrupt("return");case 4:return t.next=6,n.json();case 6:s=t.sent,a(s.stat),o(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){t.signal.aborted||e(N(["Something went wrong"]))}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t.abort()}}),[e,u,r]),Object(Te.jsx)(dn.a,{elevation:3,sx:{padding:3},children:Object(Te.jsxs)(Be.a,{variant:"h4",component:"h2",children:["Best streak: ",i?"...":r]})})},wn=function(){var e=we(),t=Object(Ee.useState)(0),n=Object(Le.a)(t,2),r=n[0],a=n[1],s=Object(Ee.useState)(!0),c=Object(Le.a)(s,2),i=c[0],o=c[1],u=Object(Ee.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(Ee.useEffect)((function(){var t=new AbortController;o(!0);var n=function(){var n=Object(h.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u(t).then(function(){var t=Object(h.a)(f.a.mark((function t(n){var r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ok){t.next=4;break}return r=401===n.status?"Your session has expired. Login again.":"Something went wrong",e(N([r])),t.abrupt("return");case 4:return t.next=6,n.json();case 6:s=t.sent,a(s.stat),o(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){t.signal.aborted||e(N(["Something went wrong"]))}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t.abort()}}),[e,u,r]),Object(Te.jsx)(dn.a,{elevation:3,sx:{padding:3},children:Object(Te.jsxs)(Be.a,{variant:"h4",component:"h2",children:["Current streak: ",i?"...":r]})})},yn=n(483),Tn=n(513),Sn=n(499);!function(e){e.year="year",e.month="month",e.day="day"}(Vt||(Vt={}));var Cn=function(){var e=we(),t=Object(Ee.useState)(0),n=Object(Le.a)(t,2),r=n[0],a=n[1],s=Object(Ee.useState)(!0),c=Object(Le.a)(s,2),i=c[0],o=c[1],u=Object(Ee.useState)({type:Vt.year,value:{year:(new Date).getFullYear()}}),l=Object(Le.a)(u,2),d=l[0],j=l[1],b=Object(Ee.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On(d.value,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d]);return Object(Ee.useEffect)((function(){var t=new AbortController,n=function(){var n=Object(h.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(t).then(function(){var t=Object(h.a)(f.a.mark((function t(n){var r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ok){t.next=4;break}return r=401===n.status?"Your session has expired. Login again.":"Something went wrong",e(N([r])),t.abrupt("return");case 4:return t.next=6,n.json();case 6:s=t.sent,a(s.stat),o(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){t.signal.aborted||e(N(["Something went wrong"]))}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t.abort()}}),[e,b]),Object(Te.jsxs)(dn.a,{elevation:3,sx:{padding:3},children:[Object(Te.jsxs)(Be.a,{variant:"h4",component:"h2",children:["New words learnt: ",i?"...":r]}),Object(Te.jsxs)(Nt.a,{children:[Object(Te.jsx)(yn.a,{children:"Filter by"}),Object(Te.jsxs)(Tn.a,{value:d.type,onChange:function(e,t){var n={type:Vt.year,value:{year:(new Date).getFullYear()}};switch(t){case Vt.day:n={type:Vt.day,value:Object(K.a)(Object(K.a)({},n.value),{},{month:(new Date).getMonth()+1,day:(new Date).getDate()})};break;case Vt.month:n={type:Vt.month,value:Object(K.a)(Object(K.a)({},n.value),{},{month:(new Date).getMonth()+1})};break;case Vt.year:n={type:Vt.year,value:Object(K.a)({},n.value)}}j(n),o(!0)},children:[Object(Te.jsx)(Yt.a,{value:Vt.day,control:Object(Te.jsx)(Sn.a,{}),label:"Day"}),Object(Te.jsx)(Yt.a,{value:Vt.month,control:Object(Te.jsx)(Sn.a,{}),label:"Month"}),Object(Te.jsx)(Yt.a,{value:Vt.year,control:Object(Te.jsx)(Sn.a,{}),label:"Year"})]})]})]})},En=n(146);function kn(e){return"rgb("+(e<50?255:Math.floor(255-255*(2*e-100)/100))+","+(e>50?255:Math.floor(2*e*255/100))+",0)"}var An,Dn=function(){var e=we(),t=Object(Ee.useState)(0),n=Object(Le.a)(t,2),r=n[0],a=n[1],s=Object(Ee.useState)(!0),c=Object(Le.a)(s,2),i=c[0],o=c[1],u=Object(Ee.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(Ee.useEffect)((function(){var t=new AbortController;o(!0);var n=function(){var n=Object(h.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u(t).then(function(){var t=Object(h.a)(f.a.mark((function t(n){var r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ok){t.next=4;break}return r=401===n.status?"Your session has expired. Login again.":"Something went wrong",e(N([r])),t.abrupt("return");case 4:return t.next=6,n.json();case 6:s=t.sent,a(s.stat),o(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){t.signal.aborted||e(N(["Something went wrong"]))}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t.abort()}}),[e,u,r]),Object(Te.jsxs)(dn.a,{elevation:3,sx:{padding:3},children:[Object(Te.jsx)(Be.a,{variant:"h4",component:"h2",children:"Percent learnt"}),Object(Te.jsx)(Pe.a,{sx:{display:"flex",justifyContent:"center"},children:i?Object(Te.jsx)(Pe.a,{sx:{height:200,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Te.jsx)(wt.a,{})}):Object(Te.jsx)(En.PieChart,{data:[{value:Math.round(r),color:kn(r)}],style:{width:"200px"},totalValue:100,lineWidth:20,label:function(e){var t=e.dataEntry;return Math.round(t.percentage)+"%"},labelStyle:{fontSize:"25px",fontFamily:"sans-serif",fill:kn(r)},labelPosition:0})})]})},Rn=function(){var e=we(),t=Object(Ee.useState)(0),n=Object(Le.a)(t,2),r=n[0],a=n[1],c=Object(Ee.useState)(!0),i=Object(Le.a)(c,2),o=i[0],u=i[1],l=Object(Ee.useState)({temporal:"year",value:{year:(new Date).getFullYear(),difficulty:s.NOTDEFINED}}),d=Object(Le.a)(l,2),j=d[0],b=d[1],p=Object(Ee.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn(j.value,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]);return Object(Ee.useEffect)((function(){var t=new AbortController,n=function(){var n=Object(h.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p(t).then(function(){var t=Object(h.a)(f.a.mark((function t(n){var r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ok){t.next=4;break}return r=401===n.status?"Your session has expired. Login again.":"Something went wrong",e(N([r])),t.abrupt("return");case 4:return t.next=6,n.json();case 6:s=t.sent,a(100*s.stat),u(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){t.signal.aborted||e(N(["Something went wrong"]))}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t.abort()}}),[e,p]),Object(Te.jsxs)(dn.a,{elevation:3,sx:{padding:3},children:[Object(Te.jsxs)(Be.a,{variant:"h4",component:"h2",children:["Success Rate: ",o?"...":"".concat(Math.round(r)," %")]}),Object(Te.jsxs)(Pe.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(Te.jsxs)(Nt.a,{children:[Object(Te.jsx)(yn.a,{children:"Filter by difficulty"}),Object(Te.jsxs)(Tn.a,{value:j.value.difficulty,onChange:function(e,t){b(Object(K.a)(Object(K.a)({},j),{},{value:Object(K.a)(Object(K.a)({},j.value),{},{difficulty:t})})),u(!0)},children:[Object(Te.jsx)(Yt.a,{value:s.NOTDEFINED,control:Object(Te.jsx)(Sn.a,{}),label:"None"}),Object(Te.jsx)(Yt.a,{value:s.EASY,control:Object(Te.jsx)(Sn.a,{}),label:"Easy"}),Object(Te.jsx)(Yt.a,{value:s.MEDIUM,control:Object(Te.jsx)(Sn.a,{}),label:"Medium"}),Object(Te.jsx)(Yt.a,{value:s.HARD,control:Object(Te.jsx)(Sn.a,{}),label:"Hard"})]})]}),Object(Te.jsxs)(Nt.a,{children:[Object(Te.jsx)(yn.a,{children:"Filter by time"}),Object(Te.jsxs)(Tn.a,{value:j.temporal,onChange:function(e,t){var n={temporal:"year",value:{year:(new Date).getFullYear()}};switch(t){case"day":n={temporal:"day",value:Object(K.a)(Object(K.a)({},n.value),{},{difficulty:j.value.difficulty,month:(new Date).getMonth()+1,day:(new Date).getDate()})};break;case"month":n={temporal:"month",value:Object(K.a)(Object(K.a)({},n.value),{},{difficulty:j.value.difficulty,month:(new Date).getMonth()+1})};break;case"year":n={temporal:"year",value:Object(K.a)(Object(K.a)({},n.value),{},{difficulty:j.value.difficulty})}}b(n),u(!0)},children:[Object(Te.jsx)(Yt.a,{value:"day",control:Object(Te.jsx)(Sn.a,{}),label:"Day"}),Object(Te.jsx)(Yt.a,{value:"month",control:Object(Te.jsx)(Sn.a,{}),label:"Month"}),Object(Te.jsx)(Yt.a,{value:"year",control:Object(Te.jsx)(Sn.a,{}),label:"Year"})]})]})]}),Object(Te.jsx)(Pe.a,{sx:{display:"flex",justifyContent:"center"},children:o?Object(Te.jsx)(Pe.a,{sx:{height:150,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Te.jsx)(wt.a,{})}):Object(Te.jsx)(En.PieChart,{style:{height:150,padding:5},label:function(e){var t=e.dataEntry;return Math.round(t.percentage)+"%"},radius:42,labelPosition:112,data:[{title:"Success",value:r,color:"green"},{title:"Fail",value:100-r,color:"red"}]})})]})},Wn=n(251),Mn=(n(402),n(403),function(){var e=we(),t=Object(Ee.useState)([]),n=Object(Le.a)(t,2),r=n[0],a=n[1],s=Object(Ee.useState)(!0),c=Object(Le.a)(s,2),i=c[0],o=c[1],u=Object(Ee.useState)({year:(new Date).getFullYear(),month:(new Date).getMonth()+1}),l=Object(Le.a)(u,2),d=l[0],j=l[1],b=Object(Ee.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);return Object(Ee.useEffect)((function(){var t=new AbortController;o(!0);var n=function(){var n=Object(h.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(d,t).then(function(){var t=Object(h.a)(f.a.mark((function t(n){var r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ok){t.next=4;break}return r=401===n.status?"Your session has expired. Login again.":"Something went wrong",e(N([r])),t.abrupt("return");case 4:return t.next=6,n.json();case 6:s=t.sent,a(s.stat),o(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){t.signal.aborted||e(N(["Something went wrong"]))}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t.abort()}}),[e,b,d]),Object(Te.jsxs)(dn.a,{elevation:3,sx:{padding:3},children:[Object(Te.jsx)(Be.a,{variant:"h4",component:"h2",children:"Use of the app"}),i&&Object(Te.jsx)(wt.a,{}),Object(Te.jsx)(Wn.a,{maxDate:new Date,onActiveStartDateChange:function(e){if("month"===e.view){var t=e.activeStartDate,n=t.getMonth()+1,r=t.getFullYear();a([]),j({month:n,year:r})}},tileClassName:function(e){var t=e.date;return"month"===e.view&&r.includes(t.getDate())?"calendar__day__used":null}})]})}),qn=function(){return Object(Te.jsx)(Ve.a,{component:"main",sx:{marginBottom:3},children:Object(Te.jsxs)(Pe.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Te.jsx)(Be.a,{variant:"h3",component:"h1",sx:{marginBottom:3},children:"My stats"}),Object(Te.jsxs)(Fe.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:[Object(Te.jsx)(Fe.a,{item:!0,xs:12,sm:4,md:4,children:Object(Te.jsx)(Dn,{})}),Object(Te.jsx)(Fe.a,{item:!0,xs:12,sm:4,md:4,children:Object(Te.jsx)(wn,{})}),Object(Te.jsx)(Fe.a,{item:!0,xs:12,sm:4,md:4,children:Object(Te.jsx)(gn,{})}),Object(Te.jsx)(Fe.a,{item:!0,xs:12,sm:4,md:4,children:Object(Te.jsx)(Mn,{})}),Object(Te.jsx)(Fe.a,{item:!0,xs:12,sm:4,md:4,children:Object(Te.jsx)(Cn,{})}),Object(Te.jsx)(Fe.a,{item:!0,xs:12,sm:4,md:4,children:Object(Te.jsx)(Rn,{})})]})]})})},Vn=n(524),Pn=["name","items","label","required","touched","errorText"],In=function(e){var t=e.hasError,n=e.label,r=e.children,a=e.value,s=e.name,c=e.onChange,i=e.onBlur,o=e.required,u=e.errorText;return Object(Te.jsxs)(Nt.a,{fullWidth:!0,margin:"normal",error:t,children:[Object(Te.jsx)(zt.a,{required:o,children:n}),Object(Te.jsx)(Lt.a,{name:s,onChange:c,onBlur:i,value:a,label:"".concat(n," *"),children:r}),t&&Object(Te.jsx)(Vn.a,{children:u})]})},Bn=function(e){var t=e.name,n=e.items,r=e.label,a=e.required,s=e.touched,c=e.errorText,i=Object(_e.a)(e,Pn);return Object(Te.jsx)("div",{children:Object(Te.jsx)(qe.a,Object(K.a)(Object(K.a)({},i),{},{name:t,as:In,label:r,hasError:void 0!==c&&s,errorText:c,helperText:s&&c,required:a,children:n.map((function(e){return Object(Te.jsx)(_t.a,{value:e.value,children:e.label},e.value)}))}))})},Fn={testType:"",difficulty:"",numberOfQuestions:5},Un=it.b().shape({testType:it.d().required("Required"),difficulty:it.d().required("Required"),numberOfQuestions:it.a().required("Required")}),Nn=Object.entries(Mt).map((function(e){var t=Object(Le.a)(e,1)[0];return{label:Pt(t),value:t}})),zn=Object.entries(s).filter((function(e){return e[1]!==s.NOTDEFINED})).map((function(e){var t=Object(Le.a)(e,1)[0];return{label:function(e){switch(e){case s.EASY:return"Easy";case s.MEDIUM:return"Medium";case s.HARD:return"Hard";default:return"Not found"}}(t),value:t}})),Ln=function(){var e=Object(Ee.useState)(!1),t=Object(Le.a)(e,2),n=t[0],r=t[1],a=we(),s=Object(ge.g)();return Object(Te.jsx)(Ve.a,{component:"main",children:Object(Te.jsxs)(Pe.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Te.jsx)(Be.a,{variant:"h3",component:"h1",children:"Start a new test"}),Object(Te.jsx)(Pe.a,{sx:{mt:1,maxWidth:.7,width:400},children:Object(Te.jsx)(qe.c,{initialValues:Fn,onSubmit:function(e){var t;r(!0),(t=e,fetch("".concat(ne,"?NumberOfQuestions=").concat(t.numberOfQuestions.toString(),"&TestType=").concat(t.testType,"&Difficulty=").concat(t.difficulty),{method:"POST",headers:{Authorization:"Bearer ".concat(te())}})).then(function(){var e=Object(h.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,r(!1),t.ok){e.next=8;break}return c=401===t.status?["Your session has expired. Login again."]:n.errors,a(N(c)),e.abrupt("return");case 8:s("/test/do/".concat(n.guid));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){r(!1),a(N(["Something went wrong"]))}))},validationSchema:Un,children:function(e){var t=e.isValid,r=e.dirty,a=e.errors,s=e.touched;return Object(Te.jsxs)(qe.b,{children:[Object(Te.jsx)("div",{children:Object(Te.jsx)(Bn,{name:"testType",label:"Test type",items:Nn,touched:s.testType,errorText:a.testType,required:!0})}),Object(Te.jsx)("div",{children:Object(Te.jsx)(Bn,{name:"difficulty",label:"Difficulty",items:zn,touched:s.difficulty,errorText:a.difficulty,required:!0})}),Object(Te.jsx)("div",{children:Object(Te.jsx)(Ke,{fullWidth:!0,name:"numberOfQuestions",label:"Number of questions",touched:s.numberOfQuestions,errorText:a.numberOfQuestions,type:"number",margin:"normal",InputProps:{inputProps:{min:1,max:15,step:1}},required:!0})}),Object(Te.jsx)(Ue.a,{variant:"contained",fullWidth:!0,disabled:!r||!t,sx:{mt:3,mb:2},type:"submit",loading:n,children:"Create test"})]})}})})]})})},_n=n(515),Yn=n(505);!function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS",e[e.DEFAULT=2]="DEFAULT"}(An||(An={}));var Qn=function(e,t,n){fetch(e,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.blob()})).then((function(e){null!==n.current&&(n.current.src=URL.createObjectURL(e))})).catch((function(){}))},Gn=function(e,t){if(!t)return null;switch(e.indexOf(t)){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";default:return null}},Hn=function(e){switch(e){case An.ERROR:return"red";case An.SUCCESS:return"green";case An.DEFAULT:return"default"}},Jn=function(e){var t=e.handleOnChange,n=e.refAnswer,r=e.label,a=e.type,s=!(a===An.DEFAULT),c=Hn(a),i=function(e){switch(e){case An.DEFAULT:return"default";case An.ERROR:return"error";case An.SUCCESS:return"success"}}(a),o=s?{variant:"outlined",sx:{border:"2px solid",borderColor:c,padding:1}}:{sx:{padding:1}};return Object(Te.jsxs)(kt.a,Object(K.a)(Object(K.a)({},o),{},{children:[Object(Te.jsx)(Rt.a,{onClick:function(){t({},r)},children:Object(Te.jsx)(Yt.a,{value:r,label:r,control:Object(Te.jsx)(Sn.a,{color:i})})}),Object(Te.jsx)(Pe.a,{sx:{display:"flex",justifyContent:"center"},children:Object(Te.jsx)("video",{width:"320",height:"240",ref:n,controls:!0})})]}))},Zn=function(e){var t,n,r=e.setCurrentAnswer,a=e.question,s=e.editable,c=ye((function(e){return e.auth.user})).token,i=Object(Ee.useMemo)((function(){return[a.possibleAnswer0,a.possibleAnswer1,a.possibleAnswer2,a.possibleAnswer3]}),[a]),o=Object(Ee.useState)(null!==(t=a.userAnswer)&&void 0!==t?t:""),u=Object(Le.a)(o,2),l=u[0],d=u[1],j=Object(Ee.useRef)(null),b=Object(Ee.useRef)(null),f=Object(Ee.useRef)(null),h=Object(Ee.useRef)(null);Object(Ee.useEffect)((function(){Qn(a.possibleAnswer0,null!==c&&void 0!==c?c:"",j),Qn(a.possibleAnswer1,null!==c&&void 0!==c?c:"",b),Qn(a.possibleAnswer2,null!==c&&void 0!==c?c:"",f),Qn(a.possibleAnswer3,null!==c&&void 0!==c?c:"",h)}),[a,c]),Object(Ee.useEffect)((function(){var e;d(null!==(e=a.userAnswer)&&void 0!==e?e:"")}),[a,i]);var p=function(e,t){s&&(d(t),r(t))},x=function(e){return function(e,t,n,r){if(t)return An.DEFAULT;var a=Gn(r,n.correctAnswer),s=n.userAnswer;return e===a?An.SUCCESS:e===s?An.ERROR:An.DEFAULT}(e,s,a,i)};return Object(Te.jsxs)(Pe.a,{sx:{width:"80%"},children:[Object(Te.jsxs)(Be.a,{variant:"h5",component:"h2",sx:{alignSelf:"flex-start",marginBottom:3},children:["Guess: '",null!==(n=null===a||void 0===a?void 0:a.wordToGuess)&&void 0!==n?n:"","'"]}),Object(Te.jsx)(Nt.a,{children:Object(Te.jsx)(Tn.a,{value:l,onChange:p,children:Object(Te.jsxs)(Fe.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:[Object(Te.jsx)(Fe.a,{item:!0,xs:4,sm:4,md:6,children:Object(Te.jsx)(Jn,{handleOnChange:function(){return p(0,"A")},refAnswer:j,label:"A",type:x("A")})}),Object(Te.jsx)(Fe.a,{item:!0,xs:4,sm:4,md:6,children:Object(Te.jsx)(Jn,{handleOnChange:function(){return p(0,"B")},refAnswer:b,label:"B",type:x("B")})}),Object(Te.jsx)(Fe.a,{item:!0,xs:4,sm:4,md:6,children:Object(Te.jsx)(Jn,{handleOnChange:function(){return p(0,"C")},refAnswer:f,label:"C",type:x("C")})}),Object(Te.jsx)(Fe.a,{item:!0,xs:4,sm:4,md:6,children:Object(Te.jsx)(Jn,{handleOnChange:function(){return p(0,"D")},refAnswer:h,label:"D",type:x("D")})})]})})})]})},$n=function(e){var t,n=e.question,r=e.editable,a=e.setCurrentAnswer,s=ye((function(e){return e.auth.user})).token,c=Object(Ee.useState)(null!==(t=n.userAnswer)&&void 0!==t?t:""),i=Object(Le.a)(c,2),o=i[0],u=i[1],l=Object(Ee.useMemo)((function(){return[n.possibleAnswer0,n.possibleAnswer1,n.possibleAnswer2,n.possibleAnswer3]}),[n]),d=Object(Ee.useRef)(null);Object(Ee.useEffect)((function(){Qn(n.videoToGuess,null!==s&&void 0!==s?s:"",d)}),[n,s]),Object(Ee.useEffect)((function(){var e;u(null!==(e=n.userAnswer)&&void 0!==e?e:"")}),[n,l]);var j=function(e){var t=function(e,t,n,r){if(t)return An.DEFAULT;var a=n.correctAnswer,s=n.userAnswer;return e===a?An.SUCCESS:e===s?An.ERROR:An.DEFAULT}(e,r,n);return Hn(t)};return Object(Te.jsxs)(Pe.a,{sx:{width:"80%"},children:[Object(Te.jsx)(Be.a,{variant:"h5",component:"h2",sx:{alignSelf:"flex-start",marginBottom:3},children:"To guess:"}),Object(Te.jsx)(Pe.a,{sx:{marginBottom:3,alignSelf:"flex-start"},children:Object(Te.jsx)("video",{width:"320",height:"240",ref:d,controls:!0})}),Object(Te.jsx)(Nt.a,{sx:{display:"flex",justifyContent:"center"},children:Object(Te.jsx)(Tn.a,{value:o,onChange:function(e,t){r&&(u(t),a(t))},children:Object(Te.jsxs)(Fe.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:[Object(Te.jsx)(Fe.a,{item:!0,xs:4,sm:4,md:6,children:Object(Te.jsx)(dn.a,{variant:"outlined",sx:{borderColor:j(n.possibleAnswer0),padding:1},children:Object(Te.jsx)(Yt.a,{value:n.possibleAnswer0,control:Object(Te.jsx)(Sn.a,{}),label:n.possibleAnswer0})})}),Object(Te.jsx)(Fe.a,{item:!0,xs:4,sm:4,md:6,children:Object(Te.jsx)(dn.a,{variant:"outlined",sx:{borderColor:j(n.possibleAnswer1),padding:1},children:Object(Te.jsx)(Yt.a,{value:n.possibleAnswer1,control:Object(Te.jsx)(Sn.a,{}),label:n.possibleAnswer1})})}),Object(Te.jsx)(Fe.a,{item:!0,xs:4,sm:4,md:6,children:Object(Te.jsx)(dn.a,{variant:"outlined",sx:{borderColor:j(n.possibleAnswer2),padding:1},children:Object(Te.jsx)(Yt.a,{value:n.possibleAnswer2,control:Object(Te.jsx)(Sn.a,{}),label:n.possibleAnswer2})})}),Object(Te.jsx)(Fe.a,{item:!0,xs:4,sm:4,md:6,children:Object(Te.jsx)(dn.a,{variant:"outlined",sx:{borderColor:j(n.possibleAnswer3),padding:1},children:Object(Te.jsx)(Yt.a,{value:n.possibleAnswer3,control:Object(Te.jsx)(Sn.a,{}),label:n.possibleAnswer3})})})]})})})]})},Xn=n(514),Kn=n(540),er=n(90),tr=n.n(er),nr="320",rr="240",ar={constraints:{audio:!1,video:!0},timeLimit:7e3},sr=Object(K.a)(Object(K.a)({},ar),{},{isOnInitially:!0,isFlipped:!0}),cr=Object(K.a)(Object(K.a)({},ar),{},{useVideoInput:!0}),ir=function(e){var t,n=e.question,r=e.editable,a=e.setCurrentAnswer,s=ye((function(e){return e.auth.user})).token,c=Object(Ee.useState)("Record"),i=Object(Le.a)(c,2),o=i[0],u=i[1],l=Object(Ee.useRef)(null),d=Object(Ee.useRef)(null),j=Object(Ee.useRef)(null);Object(Ee.useEffect)((function(){var e,t;Qn(null!==(e=n.videoHelp)&&void 0!==e?e:"",null!==s&&void 0!==s?s:"",l),Qn(null!==(t=n.videoUser)&&void 0!==t?t:"",null!==s&&void 0!==s?s:"",d)}),[n.videoHelp,n.videoUser,s,r]);var b=function(e){var t=new File([e],"".concat(n.id,".mp4"));a(t)};return Object(Ee.useEffect)((function(){j.current&&!n.videoUser&&j.current.handleStopReplaying()}),[j,n]),Object(Te.jsxs)(Pe.a,{sx:{width:"80%"},children:[Object(Te.jsxs)(Pe.a,{sx:{alignSelf:"flex-start",marginBottom:3},children:[Object(Te.jsxs)(Be.a,{variant:"h5",component:"h2",children:["Try signing: '",null!==(t=null===n||void 0===n?void 0:n.wordToGuess)&&void 0!==t?t:"","'"]}),Object(Te.jsx)("p",{children:"Help video"}),Object(Te.jsx)("video",{width:nr,height:rr,ref:l,controls:!0})]}),Object(Te.jsx)(Pe.a,{sx:{marginTop:3},children:r?Object(Te.jsxs)("div",{children:[n.videoUser&&Object(Te.jsxs)("div",{children:[Object(Te.jsx)("p",{children:"Your current video"}),Object(Te.jsx)("video",{width:nr,height:rr,ref:d,controls:!0})]}),Object(Te.jsxs)(Xn.a,{color:"primary",value:o,exclusive:!0,onChange:function(e,t){return u(t)},children:[Object(Te.jsx)(Kn.a,{value:"Record",children:"Record"}),Object(Te.jsx)(Kn.a,{value:"Upload",children:"Upload"})]}),Object(Te.jsx)("div",{style:{width:"".concat(nr,"px")},children:"Record"===o?Object(Te.jsx)(Te.Fragment,{children:Object(Te.jsx)(tr.a,Object(K.a)(Object(K.a)({ref:j},sr),{},{onRecordingComplete:b}))}):Object(Te.jsx)("div",{children:Object(Te.jsx)(tr.a,Object(K.a)(Object(K.a)({},cr),{},{onRecordingComplete:b}))})})]}):Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)("p",{children:"User video"}),Object(Te.jsx)("video",{width:nr,height:rr,ref:d,controls:!0}),Object(Te.jsxs)("p",{children:["The sign is ",n.isCorrect?"correct":"incorrect"]})]})})]})},or="320",ur={constraints:{audio:!1,video:!0},timeLimit:7e3},lr=Object(K.a)(Object(K.a)({},ur),{},{isOnInitially:!0,isFlipped:!0}),dr=Object(K.a)(Object(K.a)({},ur),{},{useVideoInput:!0}),jr=function(e){var t,n=e.question,r=e.editable,a=e.setCurrentAnswer,s=ye((function(e){return e.auth.user})).token,c=Object(Ee.useState)("Record"),i=Object(Le.a)(c,2),o=i[0],u=i[1],l=Object(Ee.useRef)(null),d=Object(Ee.useRef)(null);Object(Ee.useEffect)((function(){var e;Qn(null!==(e=n.videoUser)&&void 0!==e?e:"",null!==s&&void 0!==s?s:"",l)}),[n,s]),Object(Ee.useEffect)((function(){d.current&&!n.videoUser&&d.current.handleStopReplaying()}),[d,n]);var j=function(e){var t=new File([e],"".concat(n.id,".mp4"));a(t)};return Object(Te.jsxs)(Pe.a,{sx:{width:"80%"},children:[Object(Te.jsxs)(Be.a,{variant:"h5",component:"h2",sx:{alignSelf:"flex-start",marginBottom:3},children:["Guess: '",null!==(t=null===n||void 0===n?void 0:n.wordToGuess)&&void 0!==t?t:"","'"]}),Object(Te.jsx)(Pe.a,{sx:{marginTop:3},children:r?Object(Te.jsxs)("div",{children:[n.videoUser&&Object(Te.jsxs)("div",{children:[Object(Te.jsx)("p",{children:"Your current video"}),Object(Te.jsx)("video",{width:or,height:"240",ref:l,controls:!0})]}),Object(Te.jsxs)(Xn.a,{color:"primary",value:o,exclusive:!0,onChange:function(e,t){return u(t)},children:[Object(Te.jsx)(Kn.a,{value:"Record",children:"Record"}),Object(Te.jsx)(Kn.a,{value:"Upload",children:"Upload"})]}),Object(Te.jsx)("div",{style:{width:"".concat(or,"px")},children:"Record"===o?Object(Te.jsx)(Te.Fragment,{children:Object(Te.jsx)(tr.a,Object(K.a)(Object(K.a)({ref:d},lr),{},{onRecordingComplete:j}))}):Object(Te.jsx)("div",{children:Object(Te.jsx)(tr.a,Object(K.a)(Object(K.a)({ref:d},dr),{},{onRecordingComplete:j}))})})]}):Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)("video",{width:or,height:"240",ref:l,controls:!0}),Object(Te.jsxs)("p",{children:["The sign is ",n.isCorrect?"correct":"incorrect"]})]})})]})},br=n(244),fr=n.n(br),hr=n(490),pr=n(502),xr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",boxShadow:24,p:4},Or=function(e){var t,n=e.onClose,r=e.open,a=e.test,s=null!==(t=null===a||void 0===a?void 0:a.questions.length)&&void 0!==t?t:0,c=function(e){if(!e)return 0;switch(e.testType){case Mt.Mimic:case Mt.Mimic_Error:case Mt.QA:case Mt.QA_Error:return e.questions.filter((function(e){return e.isCorrect})).length;case Mt.OptionVideoToWord:case Mt.OptionVideoToWord_Error:return e.questions.filter((function(e){return e.correctAnswer===e.userAnswer})).length;case Mt.OptionWordToVideo:case Mt.OptionWordToVideo_Error:return e.questions.filter((function(e){var t=[e.possibleAnswer0,e.possibleAnswer1,e.possibleAnswer2,e.possibleAnswer3];return Gn(t,e.correctAnswer)===e.userAnswer})).length;default:return 0}}(a),i=s-c;return Object(Te.jsx)(pr.a,{open:r,onClose:n,children:Object(Te.jsxs)(hr.a,{sx:xr,children:[Object(Te.jsx)(Be.a,{variant:"h2",component:"h2",children:"Test results"}),Object(Te.jsxs)(Be.a,{sx:{mt:2},children:[Object(Te.jsx)("b",{children:"Total questions:"})," ",s]}),Object(Te.jsxs)(Be.a,{sx:{mt:2},children:[Object(Te.jsx)("b",{children:"Correct:"})," ",c]}),Object(Te.jsxs)(Be.a,{sx:{mt:2},children:[Object(Te.jsx)("b",{children:"Incorrect:"})," ",i]}),Object(Te.jsxs)(Be.a,{sx:{mt:2},children:[Object(Te.jsx)("b",{children:"Score:"})," ",(100*c/s).toFixed()," %"]})]})})},mr=function(e){var t=e.editable,n=e.page,r=e.handleOnPageChange,a=e.testLength,s=e.handleStop,c=e.handleFinish,i=e.loading;return Object(Te.jsxs)(Pe.a,{sx:{marginTop:3,display:"flex",width:"80%",justifyContent:"space-between"},children:[Object(Te.jsx)(et.a,{variant:"outlined",onClick:function(){r({},n-1)},disabled:1===n||i,sx:{mt:3,mb:2,padding:1},children:"Previous"}),t&&n===a?Object(Te.jsx)(Te.Fragment,{children:Object(Te.jsx)(Ue.a,{variant:"contained",onClick:function(){return c()},loading:i,sx:{mt:3,mb:2,padding:1},children:"Send test"})}):Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Ue.a,{variant:"contained",onClick:function(){r({},n+1)},disabled:n===a,loading:i,sx:{mt:3,mb:2,padding:1},children:"Next"}),Object(Te.jsx)(et.a,{variant:"contained",color:"warning",onClick:function(){s()},sx:{mt:3,mb:2,padding:1},children:"Stop"})]})]})},vr=function(e){var t,n,r,a,s,c,i=e.editable,o=Object(ge.g)(),u=Object(ge.h)().id,l=we(),d=ye((function(e){return e.test})).currentTest,j=Object(Ee.useState)(null!==(t=d.page)&&void 0!==t?t:1),b=Object(Le.a)(j,2),p=b[0],x=b[1],m=Object(Ee.useState)(!1),v=Object(Le.a)(m,2),g=v[0],w=v[1],y=Object(Ee.useState)(null),T=Object(Le.a)(y,2),S=T[0],C=T[1],E=Object(Ee.useState)(),k=Object(Le.a)(E,2),A=k[0],D=k[1],R=Object(Ee.useState)(),W=Object(Le.a)(R,2),M=W[0],q=W[1],V=Object(Ee.useState)(!1),P=Object(Le.a)(V,2),I=P[0],B=P[1],F=Object(Ee.useCallback)((function(e){D(e)}),[]),U=Object(Ee.useCallback)((function(e){q(e)}),[]);Object(Ee.useEffect)((function(){if(A&&M){var e=A.offsetWidth;M.style.width="".concat(e,"px")}}),[M,A,d.test]),Object(Ee.useEffect)((function(){return function(){l(je())}}),[l]),Object(Ee.useEffect)((function(){var e,t=(new O).get("currentTest");(null===t||void 0===t||null===(e=t.test)||void 0===e?void 0:e.id)!==u&&l(ue({id:null!==u&&void 0!==u?u:"",populated:!0}))}),[l,u]),Object(Ee.useEffect)((function(){(null===d||void 0===d?void 0:d.errors)!==[]&&l(N(null===d||void 0===d?void 0:d.errors))}),[l,null===d||void 0===d?void 0:d.errors]),Object(Ee.useEffect)((function(){C(null)}),[p]);var z=function(){o(-1)},L=function(){var e;if(null!==S){var t={};switch(null===(e=d.test)||void 0===e?void 0:e.testType){case Mt.Mimic:case Mt.Mimic_Error:case Mt.QA:case Mt.QA_Error:t={videoUser:S};break;case Mt.OptionVideoToWord:case Mt.OptionVideoToWord_Error:case Mt.OptionWordToVideo:case Mt.OptionWordToVideo_Error:t={userAnswer:S}}return t}},_=function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=L()){e.next=4;break}return Y(t),e.abrupt("return");case 4:return B(!0),e.next=7,ie({id:null!==(n=null===(r=d.test)||void 0===r?void 0:r.questions[p-1].id)&&void 0!==n?n:"",testType:null===(a=d.test)||void 0===a?void 0:a.testType,userAnswer:null===s||void 0===s?void 0:s.userAnswer,videoUser:null===s||void 0===s?void 0:s.videoUser}).then(function(){var e=Object(h.a)(f.a.mark((function e(n){var r,a,s,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ok){e.next=4;break}return r=401===n.status?"Your session has expired. Login again.":"Something went wrong",l(N([r])),e.abrupt("return");case 4:return e.next=6,n.json();case 6:a=e.sent,s=new O,c=s.get("currentTest"),(i=c.test).questions=i.questions.map((function(e){var t;return e.id!==(null===(t=d.test)||void 0===t?void 0:t.questions[p-1].id)?e:Object(K.a)(Object(K.a)({},e),a)})),l(be(i)),Y(t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){l(N(["Something went wrong"]))}));case 7:B(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t;l((t=e,function(e){var n=new O,r=n.get("currentTest");n.set("currentTest",Object(K.a)(Object(K.a)({},r),{},{page:t})),e(de.actions.setPage(t))})),x(e)},Q=function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&null!==S){e.next=3;break}return Y(n),e.abrupt("return");case 3:if(null===S){e.next=6;break}return e.next=6,_(n);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(1);case 2:z();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(_n.a,{page:p,onChange:Q,count:null===(n=d.test)||void 0===n?void 0:n.questions.length,renderItem:function(e){return Object(Te.jsx)(Yn.a,Object(K.a)({},e))}}),Object(Te.jsx)(Be.a,{sx:{marginTop:3},ref:F,variant:"h3",component:"h1",children:Pt(null===(r=d.test)||void 0===r?void 0:r.testType)}),Object(Te.jsxs)(Pe.a,{ref:U,sx:{marginTop:3,minWidth:300,display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[Object(Te.jsx)(Wt.a,{label:null===(a=d.test)||void 0===a?void 0:a.difficulty,color:qt(null===(s=d.test)||void 0===s?void 0:s.difficulty)}),!i&&Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(et.a,{variant:"outlined",startIcon:Object(Te.jsx)(fr.a,{}),onClick:function(){w(!0)},children:"Show test results"}),Object(Te.jsx)(Or,{open:g,onClose:function(){w(!1)},test:d.test})]})]}),Object(Te.jsx)(en.a,{sx:{marginTop:3,marginBottom:3,width:"80%"},variant:"middle"}),function(e){var t,n,r=null===(t=d.test)||void 0===t?void 0:t.questions[e-1];if(r)switch(null===(n=d.test)||void 0===n?void 0:n.testType){case Mt.OptionWordToVideo:case Mt.OptionWordToVideo_Error:return Object(Te.jsx)(Zn,{setCurrentAnswer:C,question:r,editable:i});case Mt.OptionVideoToWord:case Mt.OptionVideoToWord_Error:return Object(Te.jsx)($n,{setCurrentAnswer:C,question:r,editable:i});case Mt.Mimic:case Mt.Mimic_Error:return Object(Te.jsx)(ir,{setCurrentAnswer:C,question:r,editable:i});case Mt.QA:case Mt.QA_Error:return Object(Te.jsx)(jr,{setCurrentAnswer:C,question:r,editable:i})}}(p),Object(Te.jsx)(mr,{editable:i,page:p,handleOnPageChange:Q,testLength:null===(c=d.test)||void 0===c?void 0:c.questions.length,handleStop:z,handleFinish:G,loading:I})]})},gr=function(){return Object(Te.jsx)(Ve.a,{component:"main",children:Object(Te.jsx)(Pe.a,{sx:{marginTop:3,display:"flex",flexDirection:"column",alignItems:"center"},children:Object(Te.jsx)(vr,{editable:!0})})})},wr=function(){return Object(Te.jsx)(Ve.a,{component:"main",children:Object(Te.jsx)(Pe.a,{sx:{marginTop:3,display:"flex",flexDirection:"column",alignItems:"center"},children:Object(Te.jsx)(vr,{editable:!1})})})},yr=function(){return Object(Te.jsx)("div",{children:"404Screen"})},Tr=function(){var e=ye((function(e){return e.auth})),t=e.errors,n=e.messages;return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(ge.d,{children:[Object(Te.jsx)(ge.b,{path:"login",element:Object(Te.jsx)(ht,{})}),Object(Te.jsx)(ge.b,{path:"register",element:Object(Te.jsx)(gt,{})}),Object(Te.jsx)(ge.b,{path:"email-confirmation/:email/:token",element:Object(Te.jsx)(yt,{})}),Object(Te.jsx)(ge.b,{path:"password-recovery/:email/:token",element:Object(Te.jsx)(Ct,{})}),Object(Te.jsx)(ge.b,{path:"*",element:Object(Te.jsx)(ge.a,{to:"login"})})]}),t.map((function(e,t){return Object(Te.jsx)(We,{message:e,type:"error",position:{horizontal:"center",vertical:"bottom"}},t)})),n.info.map((function(e,t){return Object(Te.jsx)(We,{message:e,type:"info",position:{horizontal:"center",vertical:"bottom"}},t)})),n.success.map((function(e,t){return Object(Te.jsx)(We,{message:e,type:"success",position:{horizontal:"center",vertical:"bottom"}},t)}))]})},Sr=n(541),Cr=n(542),Er=n(247),kr=n.n(Er),Ar=n(245),Dr=n.n(Ar),Rr=n(246),Wr=n.n(Rr),Mr=n(248),qr=n.n(Mr),Vr=function(e){var t=e.value,n=e.onChange;return Object(Te.jsxs)(Sr.a,{value:t,onChange:n,showLabels:!0,children:[Object(Te.jsx)(Cr.a,{component:ve.b,to:"/",value:"/",label:"Home",icon:Object(Te.jsx)(Dr.a,{})}),Object(Te.jsx)(Cr.a,{label:"Start",component:ve.b,to:"/test/new",value:"/test/new",icon:Object(Te.jsx)(Wr.a,{})}),Object(Te.jsx)(Cr.a,{label:"Stats",component:ve.b,to:"/stats",value:"/stats",icon:Object(Te.jsx)(kr.a,{})}),Object(Te.jsx)(Cr.a,{label:"Profile",component:ve.b,to:"/profile",value:"/profile",icon:Object(Te.jsx)(qr.a,{})})]})},Pr=n(543),Ir=n(539),Br=n(494),Fr=n(252),Ur=n(491),Nr=n(492),zr=n(250),Lr=n.n(zr),_r=n(249),Yr=n.n(_r),Qr=function(e){var t=e.isGoBackVisible,n=e.sx,r=Object(ge.g)(),a=ye((function(e){return e.auth.user})).email,s=Object(Ee.useState)(null),c=Object(Le.a)(s,2),i=c[0],o=c[1],u=we();return Object(Te.jsx)(Pr.a,{position:"sticky",sx:n,children:Object(Te.jsx)(Ve.a,{maxWidth:"xl",children:Object(Te.jsxs)(Ir.a,{disableGutters:!0,children:[t&&Object(Te.jsx)(Ge.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){u(je()),r(-1)},children:Object(Te.jsx)(Yr.a,{})}),Object(Te.jsx)(Be.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"Learn ASL"}),Object(Te.jsxs)(Pe.a,{sx:{flexGrow:0},children:[Object(Te.jsx)(Br.a,{title:"Pofile settings",onClick:function(e){o(e.currentTarget)},children:Object(Te.jsx)(Ge.a,{sx:{p:0},children:Object(Te.jsx)(Ie.a,{children:a.charAt(0).toLocaleUpperCase()})})}),Object(Te.jsx)(Fr.a,{sx:{mt:"45px"},anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(i),onClose:function(){o(null)},children:Object(Te.jsxs)(_t.a,{onClick:function(){u(G())},children:[Object(Te.jsx)(Ur.a,{children:Object(Te.jsx)(Lr.a,{})}),Object(Te.jsx)(Nr.a,{children:"Logout"})]})})]})]})})})},Gr=[/\/test\/do\/.+/,/\/test\/review\/.+/],Hr=function(){var e=Object(ge.f)(),t=ye((function(e){return e.dashboard})),n=t.errors,r=t.messages,a=Object(Ee.useRef)(null),s=window.location.pathname,c=Object(Ee.useState)(s),i=Object(Le.a)(c,2),o=i[0],u=i[1],d=Object(Ee.useState)(!0),j=Object(Le.a)(d,2),b=j[0],f=j[1],h=Object(Ee.useState)(!0),p=Object(Le.a)(h,2),x=p[0],O=p[1];Object(Ee.useEffect)((function(){var t=!1;Gr.forEach((function(n){e.pathname.match(n)&&(t=!0)})),f(!t),O(t)}),[e.pathname]);return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(Pe.a,{sx:{pb:7},ref:a,children:[Object(Te.jsx)(Qr,{isGoBackVisible:x,sx:{marginBottom:"10px"}}),Object(Te.jsx)(l.a,{}),Object(Te.jsxs)(ge.d,{children:[Object(Te.jsx)(ge.b,{path:"",element:Object(Te.jsx)(Kt,{})}),Object(Te.jsx)(ge.b,{path:"profile",element:Object(Te.jsx)(ln,{})}),Object(Te.jsx)(ge.b,{path:"test/new",element:Object(Te.jsx)(Ln,{})}),Object(Te.jsx)(ge.b,{path:"stats",element:Object(Te.jsx)(qn,{})}),Object(Te.jsx)(ge.b,{path:"404",element:Object(Te.jsx)(yr,{})}),Object(Te.jsx)(ge.b,{path:"test/do/:id",element:Object(Te.jsx)(gr,{})}),Object(Te.jsx)(ge.b,{path:"test/review/:id",element:Object(Te.jsx)(wr,{})}),Object(Te.jsx)(ge.b,{path:"*",element:Object(Te.jsx)(ge.a,{to:"404"})})]}),b&&Object(Te.jsx)(dn.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(Te.jsx)(Vr,{value:o,onChange:function(e,t){u(t)}})})]}),n.map((function(e,t){return Object(Te.jsx)(Me,{message:e,type:"error",position:{horizontal:"center",vertical:"bottom"}},t)})),r.info.map((function(e,t){return Object(Te.jsx)(Me,{message:e,type:"info",position:{horizontal:"center",vertical:"bottom"}},t)}))]})},Jr=function(){return Object(Te.jsx)(ve.a,{children:Object(Te.jsxs)(ge.d,{children:[Object(Te.jsx)(ge.b,{path:"/auth/*",element:Object(Te.jsx)(Ce,{children:Object(Te.jsx)(Tr,{})})}),Object(Te.jsx)(ge.b,{path:"/*",element:Object(Te.jsx)(Se,{children:Object(Te.jsx)(Hr,{})})})]})})},Zr=Object(o.a)(),$r=function(){return Object(Te.jsxs)(u.a,{theme:Zr,children:[Object(Te.jsx)(l.a,{}),Object(Te.jsx)(d.a,{store:me,children:Object(Te.jsx)(Jr,{})})]})};i.a.render(Object(Te.jsx)($r,{}),document.getElementById("root"))}},[[421,1,2]]]);
//# sourceMappingURL=main.92c5d708.chunk.js.map